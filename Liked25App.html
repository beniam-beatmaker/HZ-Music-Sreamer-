<html lang="en"><head>
  <meta charset="UTF-8">
  <title>HZ Liked Songs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGRlZnM+CjxyYWRpYWxHcmFkaWVudCBpZD0iZ29sZGVuIiBjeD0iNTAlIiBjeT0iNTAlIiByPSI1MCUiPgo8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRkZENzAwO3N0b3Atb3BhY2l0eToxIiAvPgo8c3RvcCBvZmZzZXQ9IjMwJSIgc3R5bGU9InN0b3AtY29sb3I6I0ZGQTUwMDtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSI3MCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNEQTdGMDA7c3RvcC1vcGFjaXR5OjEiIC8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6Izg4NEQwMDtzdG9wLW9wYWNpdHk6MSIgLz4KPC9yYWRpYWxHcmFkaWVudD4KPC9kZWZzPgo8Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIgZmlsbD0idXJsKCNnb2xkZW4pIi8+CjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2LDE2KSI+CjxnPgo8cGF0aCBkPSJNLTEwIDAgTDEwIDAiIHN0cm9rZT0iI0ZGRDQ0NCIgc3Ryb2tlLXdpZHRoPSIwLjUiIG9wYWNpdHk9IjAuOCIvPgo8cGF0aCBkPSJNMCAtMTAgTDAgMTAiIHN0cm9rZT0iI0ZGRDQ0NCIgc3Ryb2tlLXdpZHRoPSIwLjUiIG9wYWNpdHk9IjAuOCIvPgo8L2c+CjxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSI+CjxwYXRoIGQ9Ik0tOCAwIEw4IDAiIHN0cm9rZT0iI0ZGRjY2NiIgc3Ryb2tlLXdpZHRoPSIwLjMiIG9wYWNpdHk9IjAuNiIvPgo8cGF0aCBkPSJNMCAtOCBMMCA4IiBzdHJva2U9IiNGRkY2NjYiIHN0cm9rZS13aWR0aD0iMC4zIiBvcGFjaXR5PSIwLjYiLz4KPC9nPgo8ZyB0cmFuc2Zvcm09InJvdGF0ZSgyMi41KSI+CjxwYXRoIGQ9Ik0tNiAwIEw2IDAiIHN0cm9rZT0iI0ZGRjg4OCIgc3Ryb2tlLXdpZHRoPSIwLjIiIG9wYWNpdHk9IjAuNCIvPgo8cGF0aCBkPSJNMCAtNiBMMCA2IiBzdHJva2U9IiNGRkY4ODgiIHN0cm9rZS13aWR0aD0iMC4yIiBvcGFjaXR5PSIwLjQiLz4KPC9nPgo8ZyB0cmFuc2Zvcm09InJvdGF0ZSg2Ny41KSI+CjxwYXRoIGQ9Ik0tNiAwIEw2IDAiIHN0cm9rZT0iI0ZGRjg4OCIgc3Ryb2tlLXdpZHRoPSIwLjIiIG9wYWNpdHk9IjAuNCIvPgo8cGF0aCBkPSJNMCAtNiBMMCA2IiBzdHJva2U9IiNGRkY4ODgiIHN0cm9rZS13aWR0aD0iMC4yIiBvcGFjaXR5PSIwLjQiLz4KPC9nPgo8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iMyIgZmlsbD0iI0ZGRjAwMCIgb3BhY2l0eT0iMC45Ii8+CjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIxLjUiIGZpbGw9IiNGRkZGRkYiIG9wYWNpdHk9IjAuOCIvPgo8L2c+Cjwvc3ZnPg==">
  <!-- Single Popup Player (EXACT COPY from Offline25App.html) -->

<div class="popup-backdrop" id="popupPlayer" style="display:none;">
    <div class="popup-player">
      <button onclick="closePopupPlayer()" style="position:absolute;top:20px;right:20px;background:none;border:none;color:#b3b3b3;font-size:24px;cursor:pointer;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all 0.2s;" onmouseover="this.style.color='#fff';this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.color='#b3b3b3';this.style.background='none'" title="Close">√ó</button>
      <button id="queueBtnPopup" class="popup-btn" aria-label="Queue" onclick="toggleQueue()" style="position:absolute;top:20px;left:20px;background:none;border:none;box-shadow:none;color:#1db954;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:8px;width:32px;height:32px;border-radius:50%;transition:all 0.2s;" onmouseover="this.style.background='rgba(29,185,84,0.1)'" onmouseout="this.style.background='none'" title="Queue">
        <span style="display:inline-block;line-height:1;">
          <span style="display:block;height:2px;width:16px;background:currentColor;border-radius:2px;margin:2px 0;"></span>
          <span style="display:block;height:2px;width:16px;background:currentColor;border-radius:2px;margin:2px 0;"></span>
          <span style="display:block;height:2px;width:16px;background:currentColor;border-radius:2px;margin:2px 0;"></span>
        </span>
      </button>
      <button onclick="toggleBassDetection()" id="bassDetectionBtn" style="position:absolute;top:60px;left:20px;background:#333;border:2px solid #666;color:#999;font-size:10px;cursor:pointer;padding:4px 8px;border-radius:4px;font-weight:bold;" title="Enable Bass Detection (Currently Disabled for Stability)">BASS OFF</button>
      <div style="position:absolute;right:60px;top:60px;bottom:60px;display:flex;flex-direction:column;align-items:center;gap:10px;">
        <svg width="16" height="16" fill="gold" viewBox="0 0 16 16"><path d="M9 4a1 1 0 0 0-2 0v4a1 1 0 0 0 2 0V4zM6 6a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0V6zM5 9a1 1 0 0 0 2 0V7a1 1 0 0 0-2 0v2zm8-3a1 1 0 0 0-2 0v4a1 1 0 0 0 2 0V6z"/></svg>
        <input type="range" id="popupVolumeRangeVertical" min="0" max="1" step="0.01" value="0.7" style="writing-mode:bt-lr;-webkit-appearance:slider-vertical;appearance:slider-vertical;width:6px;height:200px;background:gold;outline:none;border:none;border-radius:2px;">
      </div>
      <div style="display:flex;flex-direction:column;align-items:center;">
        <div id="popupCover" class="popup-cover" style="margin-bottom:0.8rem;display:flex;align-items:center;justify-content:center;background:transparent;border:none;box-shadow:none;width:120px;height:120px;">
          <div class="hertz-visualizer">
            <canvas id="hertzCanvas" width="140" height="140"></canvas>
          </div>
          <svg width="120" height="120" xmlns="http://www.w3.org/2000/svg" class="hz-circle" style="z-index: 2; position: relative;">
            <defs>
              <radialGradient id="goldenPopup" cx="50%" cy="50%" r="50%">
                <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1" />
                <stop offset="30%" style="stop-color:#FFA500;stop-opacity:1" />
                <stop offset="70%" style="stop-color:#DA7F00;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#884D00;stop-opacity:1" />
              </radialGradient>
            </defs>
            <circle cx="60" cy="60" r="55" fill="url(#goldenPopup)" />
            <text x="60" y="75" font-family="Arial, sans-serif" font-size="42" font-weight="bold" text-anchor="middle" fill="#000000">HZ</text>
          </svg>
        </div>
        <div class="player-meta" style="margin-bottom:0.8rem;text-align:center;max-width:300px;">
          <div style="font-size:1.1rem;font-weight:600;color:#fff;margin-bottom:0.3rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;" id="popupTitle">Track Name</div>
          <div style="font-size:0.9rem;color:#b3b3b3;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;" id="popupArtist">Artist Name</div>
        </div>
        <div class="player-progress" style="display:flex;align-items:center;justify-content:center;gap:0.8rem;margin-bottom:1rem;width:100%;max-width:300px;">
          <span id="popupCurrentTime" style="font-size:0.85rem;color:gold;min-width:35px;font-weight:600;">0:00</span>
          <input type="range" id="popupProgressBar" min="0" max="100" value="0" step="0.1" style="flex:1;height:4px;background:#404040;outline:none;border:none;border-radius:2px;-webkit-appearance:none;appearance:none;">
          <span id="popupDuration" style="font-size:0.85rem;color:gold;min-width:35px;font-weight:600;">0:00</span>
        </div>
        <div class="player-controls" style="display:flex;align-items:center;gap:1.5rem;margin-bottom:1rem;">
          <button id="popupShuffleBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Shuffle">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"/><path d="M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"/></svg>
          </button>
          <button id="popupPrevBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Previous">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="m9.729 5.055a.5.5 0 0 0-.52.026L5 7.055a.5.5 0 0 0 0 .89l4.209 1.973A.5.5 0 0 0 10 9.5V6.5a.5.5 0 0 0-.271-.445z"/></svg>
          </button>
          <button class="player-btn" id="popupPlayPauseBtn" style="background:none;border:none;color:#b3b3b3;font-size:1.5rem;cursor:pointer;padding:12px;border-radius:50%;transition:all 0.2s;width:48px;height:48px;display:flex;align-items:center;justify-content:center;" title="Play/Pause">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/></svg>
          </button>
          <button id="popupNextBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Next">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M6.271 5.055a.5.5 0 0 1 .52.026L11 7.055a.5.5 0 0 1 0 .89L6.791 9.919A.5.5 0 0 1 6 9.5V6.5a.5.5 0 0 1 .271-.445z"/></svg>
          </button>
          <button id="popupLoopBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Repeat">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966A.25.25 0 0 1 11 5.466zm-6 4.534V11h6a4 4 0 0 0 3.584-5.777.5.5 0 1 1 .896-.446A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.3.3 0 0 1 0-.384l2.36-1.966A.25.25 0 0 1 5 10.534z"/></svg>
          </button>
        </div>
      </div>
    </div>
  </div>
  <style> 
    .nav-dropdown .nav-btn:hover {
      background: #FFD70033;
      color: #fff;
    }  

    .header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .header h1 {
      color: #1db954;
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .header p {
      color: #b3b3b3;
      font-size: 1.1rem;
    }

    .liked-tracks {
      max-width: 800px;
      margin: 0 auto;
    }

    .track-item {
      background: #282828;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      transition: background 0.2s;
    }

    .track-item:hover {
      background: #383a3b;
    }

    .track-cover {
      width: 60px;
      height: 60px;
      border-radius: 6px;
      background: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #FFD700;
      font-weight: bold;
      font-size: 1.6rem;
      letter-spacing: 2px;
      border: 2px solid #FFD700;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .track-info {
      flex: 1;
      min-width: 0;
    }

    .track-title {
      color: #fff;
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.3rem;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .track-artist {
      color: #b3b3b3;
      font-size: 0.875rem;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .track-date {
      color: #b3b3b3;
      font-size: 0.8rem;
    }

    .remove-btn {
      background: #ff4081;
      border: none;
      color: white;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: background 0.2s;
    }

    .remove-btn:hover {
      background: #e91e63;
    }

    .empty-state {
      text-align: center;
      color: #b3b3b3;
      font-size: 1.1rem;
      margin: 3rem 0;
    }

    .back-link {
      color: #1db954;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 2rem;
      display: inline-block;
    }

    .back-link:hover {
      text-decoration: underline;
    }
    </style>
</head>
<body>
  <!-- Navigation/Menu Button -->
  <header>
    <button class="hamburger-menu" id="hamburgerMenu" title="Open Menu" aria-label="Open navigation menu" style="margin-right: 1rem;">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    <span style="font-size: 2rem; font-weight: bold; color: gold; margin-right: 1.5rem;">HZ</span>
    <span style="font-size: 1.3rem; color: #ff4081; font-weight: 600;">‚ù§Ô∏è Liked Songs</span>
  </header>

  <!-- Navigation Dropdown (hidden by default, will be populated by JS) -->
  <div class="nav-dropdown" id="navDropdown">
    <a href="index.html" class="nav-btn">üè† Home</a>
    <a href="Online25App.html" class="nav-btn">üåê Online</a>
    <a href="Offline25App.html" class="nav-btn">üì± Offline</a>
    <a href="Playlist25App.html" class="nav-btn">üìã Playlists</a>
    <a href="Liked25App.html" class="nav-btn active">‚ù§Ô∏è Liked</a>
    <a href="Account25App.html" class="nav-btn">üë§ Account</a>
    <a href="Settings25App.html" class="nav-btn">‚öôÔ∏è Settings</a>
    <button class="nav-btn" onclick="openDashboard()" style="width: 100%; text-align: left; cursor: pointer;">üìä Dashboard</button>
  </div>

  <!-- Sticky Player (copied and adapted from Playlist25App.html for professional look/functionality) -->
  <div class="sticky-player" id="stickyPlayer" style="position:fixed;bottom:0;left:0;right:0;z-index:1000;background:linear-gradient(90deg,#181818 0%,#282828 100%);border-top:1px solid #404040;padding:0.5rem 1.5rem;display:flex;align-items:center;gap:1.5rem;box-shadow:0 -2px 16px rgba(0,0,0,0.18);">
    <div id="stickyPlayerMain" style="display:flex;align-items:center;width:100%;height:36px;cursor:pointer;">
      <div class="player-controls">
        <button class="player-btn" id="prevBtn" title="Previous">&#9198;</button>
        <button class="player-btn" id="playPauseBtn" title="Always Playing">&#10073;&#10073;</button>
        <button class="player-btn" id="nextBtn" title="Next">&#9197;</button>
        <button class="player-btn player-loop" id="loopBtn" title="Loop">&#128257;</button>
        <button class="player-btn player-shuffle" id="shuffleBtn" title="Shuffle">&#128256;</button>
        <label for="volumeRange" style="margin-left:1rem;color:#b3b3b3;font-size:0.95em;">Volume</label>
        <input type="range" id="volumeRange" min="0" max="1" step="0.01" value="0.7" style="width:100px;">
      </div>
      <span class="player-title" id="playerTrackTitle"></span>
      <div style="display:flex;align-items:center;gap:0.7rem;width:320px;max-width:90%;">
        <span id="currentTime" style="font-size:0.95em;color:#b3b3b3;">0:00</span>
        <input type="range" id="progressBar" min="0" max="100" value="0" step="0.1" style="flex:1;">
        <span id="duration" style="font-size:0.95em;color:#b3b3b3;">0:00</span>
      </div>
      <button id="likeBtn" title="Like Track">&#10084;</button>
    </div>
    <audio id="playerAudio" style="display:none;" preload="metadata"></audio>
  </div>
  <script>
  // Hamburger Menu Functionality (copied/adapted from Playlist25App.html)
  document.addEventListener('DOMContentLoaded', function() {
    const hamburgerBtn = document.getElementById('hamburgerMenu');
    const dropdown = document.getElementById('navDropdown');
    if (!hamburgerBtn || !dropdown) return;
    let isMenuOpen = false;
    function toggleMenu() {
      isMenuOpen = !isMenuOpen;
      if (isMenuOpen) {
        dropdown.classList.add('show');
        hamburgerBtn.classList.add('active');
        dropdown.style.display = 'flex';
      } else {
        dropdown.classList.remove('show');
        hamburgerBtn.classList.remove('active');
        dropdown.style.display = 'none';
      }
    }
    function closeMenu() {
      isMenuOpen = false;
      dropdown.classList.remove('show');
      hamburgerBtn.classList.remove('active');
      dropdown.style.display = 'none';
    }
    hamburgerBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      toggleMenu();
    });
    document.addEventListener('click', function(e) {
      if (isMenuOpen && !dropdown.contains(e.target) && !hamburgerBtn.contains(e.target)) {
        closeMenu();
      }
    });
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && isMenuOpen) {
        closeMenu();
      }
    });
    // Close when clicking navigation links
    const navLinks = dropdown.querySelectorAll('.nav-btn');
    navLinks.forEach(link => {
      link.addEventListener('click', closeMenu);
    });
    // Ensure correct display on load
    dropdown.style.display = 'none';
  });
  // Dummy openDashboard for nav button
  function openDashboard() { window.open('admin-dashboard.html', 'dashboard', 'width=1400,height=900,scrollbars=yes,resizable=yes'); }
  </script>

  <!-- Single Popup Player -->
  <div class="popup-backdrop" id="popupPlayer" style="display:none;">
    <div class="popup-player">
      <button onclick="closePopupPlayer()" style="position:absolute;top:20px;right:20px;background:none;border:none;color:#b3b3b3;font-size:24px;cursor:pointer;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all 0.2s;" onmouseover="this.style.color='#fff';this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.color='#b3b3b3';this.style.background='none'" title="Close">√ó</button>
      <button id="queueBtnPopup" class="popup-btn" aria-label="Queue" onclick="toggleQueue()" style="position:absolute;top:20px;left:20px;background:none;border:none;box-shadow:none;color:#1db954;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:8px;width:32px;height:32px;border-radius:50%;transition:all 0.2s;" onmouseover="this.style.background='rgba(29,185,84,0.1)'" onmouseout="this.style.background='none'" title="Queue">
        <span style="display:inline-block;line-height:1;">
          <span style="display:block;height:2px;width:16px;background:currentColor;border-radius:2px;margin:2px 0;"></span>
          <span style="display:block;height:2px;width:16px;background:currentColor;border-radius:2px;margin:2px 0;"></span>
          <span style="display:block;height:2px;width:16px;background:currentColor;border-radius:2px;margin:2px 0;"></span>
        </span>
      </button>

      <!-- Bass Detection Control Button -->
      <button onclick="toggleBassDetection()" id="bassDetectionBtn" style="position:absolute;top:60px;left:20px;background:#333;border:2px solid #666;color:#999;font-size:10px;cursor:pointer;padding:4px 8px;border-radius:4px;font-weight:bold;" title="Enable Bass Detection (Currently Disabled for Stability)">BASS OFF</button>

      <!-- Vertical volume control on the right side -->
      <div style="position:absolute;right:60px;top:60px;bottom:60px;display:flex;flex-direction:column;align-items:center;gap:10px;">
        <svg width="16" height="16" fill="gold" viewBox="0 0 16 16"><path d="M9 4a1 1 0 0 0-2 0v4a1 1 0 0 0 2 0V4zM6 6a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0V6zM5 9a1 1 0 0 0 2 0V7a1 1 0 0 0-2 0v2zm8-3a1 1 0 0 0-2 0v4a1 1 0 0 0 2 0V6z"></path></svg>
        <input type="range" id="popupVolumeRangeVertical" min="0" max="1" step="0.01" value="0.7" style="writing-mode:bt-lr;-webkit-appearance:slider-vertical;appearance:slider-vertical;width:6px;height:200px;background:gold;outline:none;border:none;border-radius:2px;">
      </div>
      <div style="display:flex;flex-direction:column;align-items:center;">
        <!-- Rotating gold HZ circle with live Hertz visualization -->
        <div id="popupCover" class="popup-cover" style="margin-bottom:0.8rem;display:flex;align-items:center;justify-content:center;background:transparent;border:none;box-shadow:none;width:120px;height:120px;">
          <!-- Live Hertz Waveform Visualization -->
          <div class="hertz-visualizer">
            <canvas id="hertzCanvas" width="140" height="140"></canvas>
          </div>
          <!-- Center HZ Circle -->
          <svg width="120" height="120" xmlns="http://www.w3.org/2000/svg" class="hz-circle" style="z-index: 2; position: relative;">
            <defs>
              <radialGradient id="goldenPopup" cx="50%" cy="50%" r="50%">
                <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1"></stop>
                <stop offset="30%" style="stop-color:#FFA500;stop-opacity:1"></stop>
                <stop offset="70%" style="stop-color:#DA7F00;stop-opacity:1"></stop>
                <stop offset="100%" style="stop-color:#884D00;stop-opacity:1"></stop>
              </radialGradient>
            </defs>
            <circle cx="60" cy="60" r="55" fill="url(#goldenPopup)"></circle>
            <text x="60" y="75" font-family="Arial, sans-serif" font-size="42" font-weight="bold" text-anchor="middle" fill="#000000">HZ</text>
          </svg>
        </div>
        <!-- Track name and artist info -->
        <div class="player-meta" style="margin-bottom:0.8rem;text-align:center;max-width:300px;">
          <div style="font-size:1.1rem;font-weight:600;color:#fff;margin-bottom:0.3rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;" id="popupTitle">Track Name</div>
          <div style="font-size:0.9rem;color:#b3b3b3;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;" id="popupArtist">Artist Name</div>
        </div>
        <!-- Progress bar with Spotify-like styling -->
        <div class="player-progress" style="display:flex;align-items:center;justify-content:center;gap:0.8rem;margin-bottom:1rem;width:100%;max-width:300px;">
          <span id="popupCurrentTime" style="font-size:0.85rem;color:gold;min-width:35px;font-weight:600;">1:49</span>
          <input type="range" id="popupProgressBar" min="0" max="100" value="0" step="0.1" style="flex:1;height:4px;background:#404040;outline:none;border:none;border-radius:2px;-webkit-appearance:none;appearance:none;">
          <span id="popupDuration" style="font-size:0.85rem;color:gold;min-width:35px;font-weight:600;">1:49</span>
        </div>
        <!-- Spotify-like control buttons -->
        <div class="player-controls" style="display:flex;align-items:center;gap:1.5rem;margin-bottom:1rem;">
          <button id="popupShuffleBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Shuffle">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"></path><path d="M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"></path></svg>
          </button>
          <button id="popupPrevBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Previous">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="m9.729 5.055a.5.5 0 0 0-.52.026L5 7.055a.5.5 0 0 0 0 .89l4.209 1.973A.5.5 0 0 0 10 9.5V6.5a.5.5 0 0 0-.271-.445z"></path></svg>
          </button>
          <button class="player-btn" id="popupPlayPauseBtn" style="background:none;border:none;color:#b3b3b3;font-size:1.5rem;cursor:pointer;padding:12px;border-radius:50%;transition:all 0.2s;width:48px;height:48px;display:flex;align-items:center;justify-content:center;" title="Play/Pause">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path></svg>
          </button>
          <button id="popupNextBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Next">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M6.271 5.055a.5.5 0 0 1 .52.026L11 7.055a.5.5 0 0 1 0 .89L6.791 9.919A.5.5 0 0 1 6 9.5V6.5a.5.5 0 0 1 .271-.445z"></path></svg>
          </button>
          <button id="popupLikeBtn" class="player-btn like-btn" style="background:none;border:none;color:#b3b3b3;font-size:1.2rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;position:relative;overflow:visible;" title="Like" onclick="togglePopupLike()">
            <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.011L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"></path></svg>
          </button>
          <button id="popupLoopBtn" class="player-btn" style="background:none;border:none;color:#b3b3b3;font-size:1rem;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.2s;" title="Repeat">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966A.25.25 0 0 1 11 5.466zm-6 4.534V11h6a4 4 0 0 0 3.584-5.777.5.5 0 1 1 .896-.446A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.3.3 0 0 1 0-.384l2.36-1.966A.25.25 0 0 1 5 10.534z"></path></svg>
          </button>
        </div>
      </div>
    </div>
  <audio id="popupAudio" class="player-audio" src="https://storage.googleapis.com/hertz-music-folder/Believe%20Prod.%20Tedla.mp3" style="display: none;"></audio></div>

  <!-- Liked Tracks List -->
  <div class="liked-tracks" id="likedTracksList">
          <div class="track-item" data-track-id="file_1754451834226_0_l9aiwogla" data-track-name="Praise God For That" data-track-artist="Unknown Artist" data-track-url="">
            <div class="track-cover">HZ</div>
            <div class="track-info">
              <div class="track-title">Praise God For That</div>
              <div class="track-artist">Unknown Artist</div>
            </div>
            <div class="track-date">Liked on 8/20/2025</div>
            <button class="remove-btn" onclick="removeLikedTrack('file_1754451834226_0_l9aiwogla');event.stopPropagation();">Remove</button>
          </div>

          <div class="track-item" data-track-id="track_24_Believe" data-track-name="Believe" data-track-artist="Prod. Tedla" data-track-url="https://storage.googleapis.com/hertz-music-folder/Believe%20Prod.%20Tedla.mp3">
            <div class="track-cover">HZ</div>
            <div class="track-info">
              <div class="track-title">Believe</div>
              <div class="track-artist">Prod. Tedla</div>
            </div>
            <div class="track-date">Liked on 8/14/2025</div>
            <button class="remove-btn" onclick="removeLikedTrack('track_24_Believe');event.stopPropagation();">Remove</button>
          </div>

          <div class="track-item" data-track-id="1754547615392_r5xfkhpp6" data-track-name="Rush" data-track-artist="Unknown Artist" data-track-url="">
            <div class="track-cover">HZ</div>
            <div class="track-info">
              <div class="track-title">Rush</div>
              <div class="track-artist">Unknown Artist</div>
            </div>
            <div class="track-date">Liked on 8/14/2025</div>
            <button class="remove-btn" onclick="removeLikedTrack('1754547615392_r5xfkhpp6');event.stopPropagation();">Remove</button>
          </div>

          <div class="track-item" data-track-id="1755152015313_xc14a84jq" data-track-name="Candle type beat" data-track-artist="Unknown Artist" data-track-url="">
            <div class="track-cover">HZ</div>
            <div class="track-info">
              <div class="track-title">Candle type beat</div>
              <div class="track-artist">Unknown Artist</div>
            </div>
            <div class="track-date">Liked on 8/14/2025</div>
            <button class="remove-btn" onclick="removeLikedTrack('1755152015313_xc14a84jq');event.stopPropagation();">Remove</button>
          </div>
        </div>
<script>
    // Utility: Format time in mm:ss
    function formatTime(seconds) {
      const m = Math.floor(seconds / 60);
      const s = Math.floor(seconds % 60);
      return m + ':' + (s < 10 ? '0' : '') + s;
    }

    // Sticky Player Controls
    document.addEventListener('DOMContentLoaded', function() {
      const audio = document.getElementById('playerAudio');
      const playPauseBtn = document.getElementById('playPauseBtn');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const progressBar = document.getElementById('progressBar');
      const currentTime = document.getElementById('currentTime');
      const duration = document.getElementById('duration');
      const volumeRange = document.getElementById('volumeRange');

      // Play/Pause
      playPauseBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        if (audio.paused) {
          audio.play();
          playPauseBtn.innerHTML = '<svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><rect x="3" y="2" width="3" height="12"/><rect x="10" y="2" width="3" height="12"/></svg>';
        } else {
          audio.pause();
          playPauseBtn.innerHTML = '<svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/></svg>';
        }
      });

      // Progress bar update
      audio.addEventListener('timeupdate', function() {
        progressBar.value = audio.duration ? (audio.currentTime / audio.duration) * 100 : 0;
        currentTime.textContent = formatTime(audio.currentTime);
        duration.textContent = formatTime(audio.duration || 0);
      });
      progressBar.addEventListener('input', function(e) {
        if (audio.duration) {
          audio.currentTime = (progressBar.value / 100) * audio.duration;
        }
      });

      // Volume
      volumeRange.addEventListener('input', function() {
        audio.volume = volumeRange.value;
      });
      audio.volume = volumeRange.value;

      // Previous/Next (no playlist, just reset)
      prevBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        audio.currentTime = 0;
      });
      nextBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        audio.currentTime = audio.duration || 0;
      });
    });

    // Popup Player Controls
    document.addEventListener('DOMContentLoaded', function() {
      const popup = document.getElementById('popupPlayer');
      const popupAudio = document.createElement('audio');
      popupAudio.id = 'popupAudio';
      popupAudio.className = 'player-audio';
      popupAudio.style.display = 'none';
      popup.appendChild(popupAudio);

      const popupPlayPauseBtn = document.getElementById('popupPlayPauseBtn');
      const popupProgressBar = document.getElementById('popupProgressBar');
      const popupCurrentTime = document.getElementById('popupCurrentTime');
      const popupDuration = document.getElementById('popupDuration');
      const popupVolumeRange = document.getElementById('popupVolumeRangeVertical');
      const popupCover = document.getElementById('popupCover');

      // Play/Pause
      popupPlayPauseBtn.addEventListener('click', function() {
        if (popupAudio.paused) {
          popupAudio.play();
          popupPlayPauseBtn.innerHTML = '<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><rect x="3" y="2" width="3" height="12"/><rect x="10" y="2" width="3" height="12"/></svg>';
        } else {
          popupAudio.pause();
          popupPlayPauseBtn.innerHTML = '<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/></svg>';
        }
      });

      // Progress bar update
      popupAudio.addEventListener('timeupdate', function() {
        popupProgressBar.value = popupAudio.duration ? (popupAudio.currentTime / popupAudio.duration) * 100 : 0;
        popupCurrentTime.textContent = formatTime(popupAudio.currentTime);
        popupDuration.textContent = formatTime(popupAudio.duration || 0);
      });
      popupProgressBar.addEventListener('input', function(e) {
        if (popupAudio.duration) {
          popupAudio.currentTime = (popupProgressBar.value / 100) * popupAudio.duration;
        }
      });

      // Volume
      popupVolumeRange.addEventListener('input', function() {
        popupAudio.volume = popupVolumeRange.value;
      });
      popupAudio.volume = popupVolumeRange.value;

      // Rotating cover image animation
      let rotation = 0;
      function animateCover() {
        if (!popup.classList.contains('show')) return;
        rotation = (rotation + 0.5) % 360;
        popupCover.style.transform = `rotate(${rotation}deg)`;
        requestAnimationFrame(animateCover);
      }
      popup.addEventListener('transitionend', function() {
        if (popup.classList.contains('show')) animateCover();
      });
      // Start animation when popup is shown
      const observer = new MutationObserver(() => {
        if (popup.style.display !== 'none') {
          popup.classList.add('show');
          animateCover();
        } else {
          popup.classList.remove('show');
          popupCover.style.transform = '';
        }
      });
      observer.observe(popup, { attributes: true, attributeFilter: ['style'] });

      // Sync popup audio with sticky player
      document.getElementById('stickyPlayer').addEventListener('click', function(e) {
        if (e.target.closest('button') || e.target.tagName === 'INPUT') return;
        const stickyAudio = document.getElementById('playerAudio');
        popupAudio.src = stickyAudio.src;
        popupAudio.currentTime = stickyAudio.currentTime;
        popupAudio.volume = popupVolumeRange.value;
        popupAudio.play();
      });
    });

    // Load liked tracks from localStorage
    let likedTracks = [];
    function loadLikedTracks() {
      try {
        likedTracks = JSON.parse(localStorage.getItem('hertz_liked_tracks') || '[]');
      } catch {
        likedTracks = [];
      }
    }

    // Save liked tracks to localStorage
    function saveLikedTracks() {
      localStorage.setItem('hertz_liked_tracks', JSON.stringify(likedTracks));
    }

    // Add a track to liked tracks
    function addLikedTrack(track) {
      // Always ensure the liked track has a valid url (from url or audioUrl)
      const likedTrack = {
        ...track,
        url: track.url || track.audioUrl || '',
        likedAt: new Date().toISOString()
      };
      likedTracks.unshift(likedTrack);
      saveLikedTracks();
      renderLikedTracks();
      return true;
    }

    // Remove a track from liked tracks
    function removeLikedTrack(trackId) {
      const index = likedTracks.findIndex(t => t.id === trackId);
      if (index > -1) {
        likedTracks.splice(index, 1);
        saveLikedTracks();
        renderLikedTracks();
        return true;
      }
      return false;
    }

    // Check if a track is liked
    function isTrackLiked(trackId) {
      return likedTracks.some(t => t.id === trackId);
    }

    // Render liked tracks list
    function renderLikedTracks() {
      const container = document.getElementById('likedTracksList');
      if (likedTracks.length === 0) {
        container.innerHTML = '<div class="empty-state">No liked songs yet. Start liking tracks from the music player!</div>';
        return;
      }
      let html = '';
      likedTracks.forEach(track => {
        const likedDate = new Date(track.likedAt).toLocaleDateString();
        html += `
          <div class="track-item" data-track-id="${track.id}" data-track-name="${track.name}" data-track-artist="${track.artist || 'Unknown Artist'}" data-track-url="${track.url || ''}">
            <div class="track-cover">HZ</div>
            <div class="track-info">
              <div class="track-title">${track.name}</div>
              <div class="track-artist">${track.artist || 'Unknown Artist'}</div>
            </div>
            <div class="track-date">Liked on ${likedDate}</div>
            <button class="remove-btn" onclick="removeLikedTrack('${track.id}');event.stopPropagation();">Remove</button>
          </div>
        `;
      });
      container.innerHTML = html;
      // Add click event listeners to play track in sticky player
      Array.from(container.getElementsByClassName('track-item')).forEach(item => {
        item.addEventListener('click', function(e) {
          if (e.target.classList.contains('remove-btn')) return;
          const track = {
            id: item.getAttribute('data-track-id'),
            name: item.getAttribute('data-track-name'),
            artist: item.getAttribute('data-track-artist'),
            url: item.getAttribute('data-track-url')
          };
          playTrackInStickyPlayer(track);
        });
      });
    }

    // Play track in sticky player and show it
    function playTrackInStickyPlayer(track) {
      const stickyPlayer = document.getElementById('stickyPlayer');
      stickyPlayer.style.display = 'flex';
      document.getElementById('playerTrackTitle').textContent = track.name;
      document.getElementById('playerArtist').textContent = track.artist;
      const audio = document.getElementById('playerAudio');
      let src = track.url && track.url.trim() ? track.url : '';
      // Check if the URL is likely to be online (http/https)
      const isOnline = src.startsWith('http://') || src.startsWith('https://');
      if (!src || !isOnline) {
        // Show a user-friendly message and use fallback audio
        alert('This track is only available offline and cannot be played in the browser.');
        src = 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3';
      }
      if (audio.src !== src) {
        audio.src = src;
      }
      audio.currentTime = 0;
      audio.play().catch(()=>{});
      // Update play/pause button
      const playPauseBtn = document.getElementById('stickyPlayPause');
      playPauseBtn.textContent = '‚è∏Ô∏è';
      // Store current track for popup
      stickyPlayer.dataset.currentTrack = JSON.stringify(track);
      // Always ensure popup is hidden when new track is played
      document.getElementById('popupPlayer').style.display = 'none';
    }

    // Sticky player click: open popup player if not clicking a control
    document.addEventListener('DOMContentLoaded', function() {
      const stickyPlayer = document.getElementById('stickyPlayer');
      const playPauseBtn = document.getElementById('stickyPlayPause');
      const closeBtn = document.getElementById('stickyClose');
      const audio = document.getElementById('playerAudio');
      // Play/Pause button
      playPauseBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        if (audio.paused) {
          audio.play();
          playPauseBtn.textContent = '‚è∏Ô∏è';
        } else {
          audio.pause();
          playPauseBtn.textContent = '‚ñ∂Ô∏è';
        }
      });
      // Close button
      closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        stickyPlayer.style.display = 'none';
        audio.pause();
      });
      // Always show popup player on sticky click (not on buttons)
      stickyPlayer.addEventListener('click', function(e) {
        if (e.target.closest('button') || e.target.tagName === 'INPUT') return;
        const popup = document.getElementById('popupPlayer');
        const popupAudio = document.getElementById('popupAudio');
        const popupTitle = document.getElementById('popupTrackTitle');
        const popupArtist = document.getElementById('popupArtist');
        // Get current track from sticky
        let track = null;
        try {
          track = JSON.parse(stickyPlayer.dataset.currentTrack || '{}');
        } catch {}
        if (track && track.name) {
          popupTitle.textContent = track.name;
          popupArtist.textContent = track.artist || '';
          let src = track.url && track.url.trim() ? track.url : '';
          if (!src) src = 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3';
          popupAudio.src = src;
          popupAudio.currentTime = audio.currentTime;
          if (!popupAudio.paused) popupAudio.pause();
        }
        popup.style.display = 'block';
      });
      // Popup close
      document.getElementById('popupClose').addEventListener('click', function() {
        document.getElementById('popupPlayer').style.display = 'none';
        document.getElementById('popupAudio').pause();
      });
    });


    // Always display liked tracks instantly and clearly
    function syncAndRenderLikedTracks() {
      loadLikedTracks();
      renderLikedTracks();
    }

    // On page load, render immediately
    syncAndRenderLikedTracks();

    // Also keep the old DOMContentLoaded for safety
    document.addEventListener('DOMContentLoaded', function() {
      syncAndRenderLikedTracks();
      window.addEventListener('storage', function(e) {
        const relevantKeys = [
          'hertz_liked_tracks',
          'hertzLikedTracks',
          'likedTracks',
          'playlistLikedTracks',
          'hertzLikedTracksUpdate'
        ];
        if (relevantKeys.includes(e.key)) {
          syncAndRenderLikedTracks();
        }
      });
    });

    // Expose functions to window for external access
    window.addLikedTrack = addLikedTrack;
    window.removeLikedTrack = removeLikedTrack;
    window.isTrackLiked = isTrackLiked;

    // Add: Like button handler for popup player
    window.togglePopupLike = function() {
      // Get the current track from the popup player UI
      const popupTitle = document.getElementById('popupTitle');
      const popupArtist = document.getElementById('popupArtist');
      const popupAudio = document.getElementById('popupAudio');
      // Try to get the track info from the sticky player if available
      let track = null;
      try {
        const stickyPlayer = document.getElementById('stickyPlayer');
        if (stickyPlayer && stickyPlayer.dataset.currentTrack) {
          track = JSON.parse(stickyPlayer.dataset.currentTrack);
        }
      } catch {}
      // Fallback: build track from popup UI
      if (!track || !track.name) {
        track = {
          id: popupTitle.textContent.replace(/\s+/g, '_').toLowerCase() + '_' + Date.now(),
          name: popupTitle.textContent,
          artist: popupArtist.textContent,
          url: popupAudio.src || '',
        };
      } else {
        // Always update url to current popup audio src
        track.url = popupAudio.src || track.url || '';
      }
      // Add to liked tracks
      addLikedTrack(track);
    };
</script>


</body></html>
